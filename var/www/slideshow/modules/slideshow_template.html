<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

  <div class="slideshow-container">

  </div>


  <script>
    var slideIndex = 0;
    var hasvideo = 0;

    var tag = document.createElement('script');
    tag.id = 'iframe-demo';
    tag.src = 'https://www.youtube.com/iframe_api';
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      
      function onYouTubeIframeAPIReady() {
      }

    function event() {
     console.log("event listener")
    }

    showSlides();

    function showSlides() {
      //console.log('Dentro Slide....');
      //console.log('SlideIndex='+slideIndex);
      var i;
      var slides = document.getElementsByClassName("mySlides");
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length){
        slideIndex = 1
      }
      slides[slideIndex-1].style.display = "block";

      //youtube_videos = slides[slideIndex-1].classList.contains("YouTube");
      if (slides[slideIndex-1].classList.contains("YouTube")) {
        iframe_youtube=slides[slideIndex-1].getElementsByTagName("iframe")[0];
       // console.log(iframe_youtube);
       // console.log(iframe_youtube.id);
       // console.log('It is a Youtube video...');
      }


      //videos = slides[slideIndex-1].getElementsByTagName("video");
      else if (slides[slideIndex-1].getElementsByTagName("video").length > 0) {
        videos = slides[slideIndex-1].getElementsByTagName("video");
        //console.log('It is a Local video...');
        videos[0].play();
        videos[0].onended = function(){
          setTimeout(showSlides, 500);
        };
      }
      else {
        setTimeout(showSlides, 2000); // Change image every 2 seconds
      }
    } 

</script>

</body>
</html> 